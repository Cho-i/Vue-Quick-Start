# 06 컴포넌트 기초

컴포넌트를 작성하고 사용할 때의 장점

1. 뛰어난 재사용성
2. 테스트가 용이
3. 디버깅이 편함

## 6.1 컴포넌트 조합

vue.js는 컴포넌트들을 조합해 전체 애플리케니션을 작성. 컴포넌트들은 부모-자식 관계로 트리 구조를 형성. 부모 컴포넌트가 자식 컴포넌트를 포함하는 형태. 컴포넌트들은 속성(Props)을 통해서 자식 컴포넌트로 정보를 전달 할 수 있음.  주로 부모에서 자식으로 단방향 전달. 양방향 할 수 있으나 비추.

자식 컴포넌트는 부모 컴포넌트로 이벤트를 발신할 수 있음. 자식 컴포넌트에서 사용자 정의 이벤트를 정의하고 이벤트를 발생시키면 부모 컴포넌트에서 이벤트 핸들러 메서드를 호출하도록 작성.

속성 전달과 이벤트 발신이 부모-자식 컴포넌트 간의 상호 작용을 일으키는 방법.

**컴포넌트 기반으로 개발할 때 data 옵션은 각 컴포넌트의 로컬 상태를 관리하기 위한 용도로만 사용. 반드시 함수로 작성하고 함수 내부에서 객체를 리턴하도록 작성.**

## 6.2 컴포넌트의 작성

컴포넌트를 작성하는 메서드

`Vue.component(tagname, option)`

tagname : 컴포넌트를 사용할 태그명.

options : 컴포넌트에서 렌더링할 templet 등을 지정.

[ex06-01.html](https://cho-i.github.io/Vue-Quick-Start/06/ex06-01.html)

## 6.3 DOM 템플릿 구문 작성 시 주의 사항

컴포넌트를 이용해 개발하면서 템플릿 문자열을 사용할 때 주의할 점이 있음. HTML 요소들은 자식 요소로 포함시킬 수 있는 요소들이 정해져 있는 경우가 있고, 이 사항을 브라우저가 구문 분석을 수행. 이 경우에 Vue 컴포넌트가 사용되면 때때로 오류가 발생.

[ex06-02.html](https://cho-i.github.io/Vue-Quick-Start/06/ex06-02.html)

코드가 `<script type="text/x-template">` 태그 안에서 사용되거나 .vue 확장자를 사용하는 단일 컴포넌트를 작성하는 경우에는 굳이 is 특성을 사용하지 않아도 됨. template 태그를 사용할 때는  is 특성을 사용해야 하므로 주의.

템플릿 문자열 안에서 루트 요소는 하나여야 함. 만일 템플릿 내부에 여러 요소를 작성해야 한다면 div요소 등을 이용해 감싸주어 하나의 루트 요소가 되게끔 해주어야 함.

```html
<template id="helloTemplate">
	<div>
        <div>hello</div>
        <div>hello</div>
    </div>
</template>
```

## 6.4 컴포넌트에서의 data 옵션

컴포넌트 내부의 로컬 상태 정보를 저장하기 위해 data 옵션을 사용할 수 있음.

[ex06-03.html](https://cho-i.github.io/Vue-Quick-Start/06/ex06-03.html)

data 옵션에 함수를 지정하는 이유는 동일한 컴포넌트가 여러번 사용되더라도 동일한 객체를 가리키는 것이 아니라 함수가 호출될 때마다 만들어진 객체가 리턴되기 때문. 매번 만들어진 객체가 리턴되기 때문에 서로 다른 객체를 참조.

## 6.5 props와 event

Vue 컴포넌트들이 부모 - 자식 관계로 형성되었을 때 각 컴포넌트 내부의 데이터는 캡슐화되기 때문에 다른 컴포넌트나 앱에서 접근할 수 없음. 따라서 부모 컴포넌트에서 자식 컴포넌트로 필요한 정보를 전달하기 위해서는 속성(props)을 이용해야 함. 주의할 점은 부모에서 자식으로 단방향으로만 전달할 수 있음.

반대로 자식 컴포넌트에서 부모 컴포넌트로의 전달은 이벤트를 이용함. 자식 컴포넌트에서 사용자 정의 이벤트를 필요하나 정보와 함께 발신(emit)하면 부모 컴포넌트에서 v-on 디렉티브를 이용해서 이벤트를 처리.

### 6.5.1 props를 이용한 정보 전달

vue 컴포넌트를 정의할 때 props라는 옵션을 작성하고 props명을 배열로 나열하면 됨.

[ex06-04.html](https://cho-i.github.io/Vue-Quick-Start/06/ex06-04.html)